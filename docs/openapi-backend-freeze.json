{"openapi":"3.0.1","info":{"title":"NeighborhoodShare API","description":"Backend API for neighborhood item sharing, bookings, payments, reviews, and disputes","version":"0.1.0"},"servers":[{"url":"http://localhost:8080/api","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"paths":{"/v1/items/{itemId}":{"get":{"tags":["item-controller"],"operationId":"getItem","parameters":[{"name":"itemId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemResponse"}}}}}},"put":{"tags":["item-controller"],"operationId":"updateItem","parameters":[{"name":"itemId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateItemRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemResponse"}}}}}},"delete":{"tags":["item-controller"],"operationId":"deleteItem","parameters":[{"name":"itemId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiMessageResponse"}}}}}},"patch":{"tags":["item-controller"],"operationId":"patchItem","parameters":[{"name":"itemId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateItemRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemResponse"}}}}}}},"/v1/reviews":{"post":{"tags":["review-controller"],"operationId":"createReview","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateReviewRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ReviewResponse"}}}}}}},"/v1/payments/webhook":{"post":{"tags":["payment-controller"],"operationId":"razorpayWebhook","parameters":[{"name":"X-Razorpay-Signature","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiMessageResponse"}}}}}}},"/v1/payments/bookings/{bookingId}/order":{"post":{"tags":["payment-controller"],"operationId":"createBookingPaymentIntent","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PaymentIntentResponse"}}}}}}},"/v1/payments/bookings/{bookingId}/intent":{"post":{"tags":["payment-controller"],"operationId":"createBookingPaymentIntentAlias","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PaymentIntentResponse"}}}}}}},"/v1/payments/bookings/{bookingId}/confirm":{"post":{"tags":["payment-controller"],"operationId":"confirmBookingPayment","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmPaymentRequest"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PaymentIntentResponse"}}}}}}},"/v1/items":{"get":{"tags":["item-controller"],"operationId":"listItems","parameters":[{"name":"category","in":"query","required":false,"schema":{"type":"string"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageItemResponse"}}}}}},"post":{"tags":["item-controller"],"operationId":"createItem","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateItemRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemResponse"}}}}}}},"/v1/disputes":{"post":{"tags":["dispute-controller"],"operationId":"createDispute","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDisputeRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DisputeResponse"}}}}}}},"/v1/bookings":{"post":{"tags":["booking-controller"],"operationId":"createBooking","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBookingRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingResponse"}}}}}}},"/v1/auth/verify-otp":{"post":{"tags":["auth-controller"],"operationId":"verifyOtp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyOtpRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiMessageResponse"}}}}}}},"/v1/auth/send-otp":{"post":{"tags":["auth-controller"],"operationId":"sendOtp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendOtpRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiMessageResponse"}}}}}}},"/v1/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/v1/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/v1/bookings/{bookingId}/return":{"patch":{"tags":["booking-controller"],"operationId":"returnBooking","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReturnBookingRequest"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingResponse"}}}}}}},"/v1/bookings/{bookingId}/reject":{"patch":{"tags":["booking-controller"],"operationId":"rejectBooking","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingResponse"}}}}}}},"/v1/bookings/{bookingId}/mark-active":{"patch":{"tags":["booking-controller"],"operationId":"markActive","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingResponse"}}}}}}},"/v1/bookings/{bookingId}/complete":{"patch":{"tags":["booking-controller"],"operationId":"completeBooking","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingResponse"}}}}}}},"/v1/bookings/{bookingId}/accept":{"patch":{"tags":["booking-controller"],"operationId":"acceptBooking","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingResponse"}}}}}}},"/v1/reviews/me":{"get":{"tags":["review-controller"],"operationId":"myReviews","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageReviewResponse"}}}}}}},"/v1/payments/me/transactions":{"get":{"tags":["payment-controller"],"operationId":"listMyTransactions","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageTransactionResponse"}}}}}}},"/v1/items/me":{"get":{"tags":["item-controller"],"operationId":"listMyItems","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageItemResponse"}}}}}}},"/v1/items/categories":{"get":{"tags":["item-controller"],"operationId":"listCategories","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/v1/disputes/{disputeId}":{"get":{"tags":["dispute-controller"],"operationId":"getDispute","parameters":[{"name":"disputeId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DisputeResponse"}}}}}}},"/v1/disputes/me":{"get":{"tags":["dispute-controller"],"operationId":"myDisputes","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageDisputeResponse"}}}}}}},"/v1/bookings/me/lent":{"get":{"tags":["booking-controller"],"operationId":"lentBookings","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageBookingResponse"}}}}}}},"/v1/bookings/me/lent/{bookingId}":{"get":{"tags":["booking-controller"],"operationId":"getLentBooking","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingResponse"}}}}}}},"/v1/bookings/me/borrowed":{"get":{"tags":["booking-controller"],"operationId":"borrowedBookings","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageBookingResponse"}}}}}}},"/v1/bookings/me/borrowed/{bookingId}":{"get":{"tags":["booking-controller"],"operationId":"getBorrowedBooking","parameters":[{"name":"bookingId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingResponse"}}}}}}}},"components":{"schemas":{"UpdateItemRequest":{"type":"object","properties":{"name":{"maxLength":255,"minLength":0,"type":"string"},"description":{"type":"string"},"category":{"maxLength":100,"minLength":0,"type":"string"},"pricePerHour":{"minimum":0.0,"exclusiveMinimum":false,"type":"number"},"pricePerDay":{"minimum":0.0,"exclusiveMinimum":false,"type":"number"},"depositAmount":{"minimum":0.0,"exclusiveMinimum":false,"type":"number"},"isAvailable":{"type":"boolean"},"maxConsecutiveDays":{"minimum":1,"type":"integer","format":"int32"},"images":{"type":"array","items":{"type":"string"}},"currentCondition":{"type":"string"},"damageNotes":{"type":"string"}}},"ItemResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"pricePerHour":{"type":"number"},"pricePerDay":{"type":"number"},"depositAmount":{"type":"number"},"isAvailable":{"type":"boolean"},"maxConsecutiveDays":{"type":"integer","format":"int32"},"images":{"type":"string"},"currentCondition":{"type":"string"},"averageRating":{"type":"number"},"totalBookings":{"type":"integer","format":"int32"},"owner":{"$ref":"#/components/schemas/UserResponse"},"createdAt":{"type":"string","format":"date-time"}}},"UserResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"phone":{"type":"string"},"profilePicUrl":{"type":"string"},"bio":{"type":"string"},"averageRating":{"type":"number"},"totalRatings":{"type":"integer","format":"int32"},"trustScore":{"type":"integer","format":"int32"},"totalBorrowedItems":{"type":"integer","format":"int32"},"totalLentItems":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"}}},"CreateReviewRequest":{"required":["bookingId","rating"],"type":"object","properties":{"bookingId":{"type":"string","format":"uuid"},"rating":{"maximum":5.0,"exclusiveMaximum":false,"minimum":1.0,"exclusiveMinimum":false,"type":"number"},"title":{"type":"string"},"content":{"type":"string"}}},"ReviewResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"bookingId":{"type":"string","format":"uuid"},"reviewerId":{"type":"string","format":"uuid"},"reviewedUserId":{"type":"string","format":"uuid"},"itemId":{"type":"string","format":"uuid"},"rating":{"type":"number"},"title":{"type":"string"},"content":{"type":"string"},"helpfulCount":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"}}},"ApiMessageResponse":{"type":"object","properties":{"message":{"type":"string"}}},"PaymentIntentResponse":{"type":"object","properties":{"orderId":{"type":"string"},"keyId":{"type":"string"},"amount":{"type":"integer","format":"int64"},"currency":{"type":"string"},"status":{"type":"string"},"bookingStatus":{"type":"string"}}},"ConfirmPaymentRequest":{"type":"object","properties":{"razorpayOrderId":{"type":"string"},"razorpayPaymentId":{"type":"string"},"razorpaySignature":{"type":"string"}}},"CreateItemRequest":{"required":["category","name","pricePerDay","pricePerHour"],"type":"object","properties":{"name":{"maxLength":255,"minLength":0,"type":"string"},"description":{"type":"string"},"category":{"maxLength":100,"minLength":0,"type":"string"},"pricePerHour":{"minimum":0.0,"exclusiveMinimum":false,"type":"number"},"pricePerDay":{"minimum":0.0,"exclusiveMinimum":false,"type":"number"},"depositAmount":{"minimum":0.0,"exclusiveMinimum":false,"type":"number"},"isAvailable":{"type":"boolean"},"maxConsecutiveDays":{"type":"integer","format":"int32"},"images":{"type":"array","items":{"type":"string"}},"currentCondition":{"type":"string"},"damageNotes":{"type":"string"}}},"CreateDisputeRequest":{"required":["bookingId","description","disputeReason"],"type":"object","properties":{"bookingId":{"type":"string","format":"uuid"},"disputeReason":{"type":"string"},"description":{"type":"string"},"evidence":{"type":"array","items":{"type":"string"}}}},"DisputeResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"bookingId":{"type":"string","format":"uuid"},"createdById":{"type":"string","format":"uuid"},"disputeReason":{"type":"string"},"description":{"type":"string"},"evidence":{"type":"string"},"status":{"type":"string"},"assignedAdminId":{"type":"string","format":"uuid"},"resolution":{"type":"string"},"refundAmount":{"type":"number"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"resolvedAt":{"type":"string","format":"date-time"}}},"CreateBookingRequest":{"required":["endDate","itemId","startDate"],"type":"object","properties":{"itemId":{"type":"string","format":"uuid"},"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"}}},"BookingResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"itemId":{"type":"string","format":"uuid"},"borrowerId":{"type":"string","format":"uuid"},"ownerId":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["REQUESTED","ACCEPTED","REJECTED","ACTIVE","RETURNED","COMPLETED","DISPUTED"]},"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"},"durationDays":{"type":"integer","format":"int32"},"basePrice":{"type":"number"},"depositCollected":{"type":"number"},"platformFee":{"type":"number"},"totalAmount":{"type":"number"},"paidAt":{"type":"string","format":"date-time"},"returnedAt":{"type":"string","format":"date-time"},"returnNotes":{"type":"string"},"returnImages":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"VerifyOtpRequest":{"required":["email","otpCode"],"type":"object","properties":{"email":{"type":"string"},"otpCode":{"maxLength":6,"minLength":6,"type":"string"}}},"SendOtpRequest":{"required":["email"],"type":"object","properties":{"email":{"type":"string"}}},"RegisterRequest":{"required":["email","firstName","inviteCode","lastName","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"maxLength":100,"minLength":8,"type":"string"},"firstName":{"maxLength":100,"minLength":2,"type":"string"},"lastName":{"maxLength":100,"minLength":2,"type":"string"},"phone":{"maxLength":20,"minLength":0,"type":"string"},"inviteCode":{"type":"string"}}},"AuthResponse":{"type":"object","properties":{"userId":{"type":"string","format":"uuid"},"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"token":{"type":"string"},"refreshToken":{"type":"string"},"tokenType":{"type":"string"},"expiresIn":{"type":"integer","format":"int64"}}},"LoginRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"ReturnBookingRequest":{"type":"object","properties":{"returnNotes":{"type":"string"},"returnImages":{"type":"array","items":{"type":"string"}}}},"PageReviewResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ReviewResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"PageTransactionResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/TransactionResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"TransactionResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"bookingId":{"type":"string","format":"uuid"},"transactionType":{"type":"string"},"amount":{"type":"number"},"currency":{"type":"string"},"stripeTransactionId":{"type":"string"},"status":{"type":"string"},"description":{"type":"string"},"metadata":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"completedAt":{"type":"string","format":"date-time"}}},"PageItemResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ItemResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageDisputeResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/DisputeResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageBookingResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/BookingResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}
